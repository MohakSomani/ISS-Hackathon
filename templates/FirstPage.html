<!DOCTYPE html>
<html lang="en">

<head>
    <title>Login</title>
    <link href="../static/css/Fisrtpage.css" rel="stylesheet">
</head>

<body>
  <nav>
    <div class="logo">
      <a href="/"><img src="../static/images/logo.png"></a>
    </div>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="about">About</a></li>
      <li><a href="students">Student</a></li>
      <li><a href="faculty">Faculty</a></li>
      <li><a href="input">Input</a></li>
    </ul>
    <div class="burger">
      <div class="line1"></div>
      <div class="line2"></div>
      <div class="line3"></div>
    </div>
  </nav>
    <div class="container">
        <p><span class="typed-text" id="typee"></span><span class="cursor">&nbsp;</span></p>
      </div>
    <div class="box">
        <span class="borderLine"></span>
        <form>
            <h2>Sign in</h2>
            <div class="inputBox">
                <input type="text" required="required" id="name">
                <span class="username">Username</span>
                <i></i>
            </div>
            <div class="inputBox">
                <input type="password" required="required" id="passworddd">
                <span class="password">Password</span>
                <i></i>
            </div>
            <div class="links">
                <a href="#">Forget Password</a>
                
            </div>
            <input type="submit" value="Login" id="log-button" formaction="sample.html">
        </form>
    </div>
   
    <!-- <a href="#" style="text-decoration: none;">
        <div class="explore">
            <p class="next"><a href="sample.html" style="text-decoration: none;">EXPLORE NOW</a></p>
        </div>
    </a>
    <a href="#" style="text-decoration: none;">
        <div class="nextbox">
            <p class="about"><a href="me.html" style="text-decoration: none;">ABOUT</a></p>
        </div>
    </a> -->


    <script>
        const typedTextSpan = document.querySelector(".typed-text");
const cursorSpan = document.querySelector(".cursor");

const textArray = ["Hello!", "Welcome to IIIT Directory!"];
const colorArr = ["#ff2770", "#45f3ff"];
const typingDelay = 150;
const erasingDelay = 150;
const newTextDelay = 100; // Delay between current and next text
let textArrayIndex = 0;
let charIndex = 0;

function type() {
    
  if (charIndex < textArray[textArrayIndex].length) {
    if(!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
    typedTextSpan.textContent += textArray[textArrayIndex].charAt(charIndex);
    typedTextSpan.style.color = colorArr[textArrayIndex];
    charIndex++;
    setTimeout(type, typingDelay);
  } 
  else {
    cursorSpan.classList.remove("typing");
  	setTimeout(erase, newTextDelay);
  }
}

function erase() {
	if (charIndex > 0) {
    if(!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
    typedTextSpan.textContent = textArray[textArrayIndex].substring(0, charIndex-1);
    charIndex--;
    setTimeout(erase, erasingDelay);
  } 
  else {
    cursorSpan.classList.remove("typing");
    textArrayIndex++;
    if(textArrayIndex>=textArray.length) textArrayIndex=0;
    setTimeout(type, typingDelay + 1100);
  }
}

document.addEventListener("DOMContentLoaded", function() { // On DOM Load initiate the effect
  if(textArray.length) setTimeout(type, newTextDelay + 250);
});


name2=document.getElementById('name');
pass=document.getElementById('passworddd');
log=document.getElementById('log-button');
log.addEventListener('click',(event)=>{
    event.preventDefault();
    const data = new TextEncoder().encode(pass.value);
    crypto.subtle.digest('SHA-256', data).then(hash => {
    const passhash = Array.from(new Uint8Array(hash))
      .map(b => b.toString(16).padStart(2, '0'))
      .join('');
    console.log(pass.value, name2.value);
    if(name2.value==='admin' && passhash==='240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9'){
        window.location.replace('/input1');
    }
    else{
      alert('wrong username or password');
    }
  

  });
});



</script>

</body>

</html>